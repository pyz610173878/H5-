## 临近日期模块

![image-20240329125032701](%E4%B8%BB%E9%A1%B5.assets/image-20240329125032701-17116878336411.png)

分解任务：

```
1. 学习 echarts
2. 
```



### 熟悉现成案例

这段代码是一个Vue组件的示例，它使用`vue-echarts`库来创建和显示一个饼图。下面是代码的详细解释：
1. **模板部分** (`<template>`):
   - 使用了`v-chart`组件，这是`vue-echarts`库的一部分，用于渲染ECharts图表。
   - 通过`:option="option"`绑定了一个响应式数据`option`，这是ECharts图表的配置对象。
   - `autoresize`属性使得图表能够自动适应容器大小变化。
2. **脚本部分** (`<script setup>`):
   - 导入了`echarts/core`中的`use`函数，用于注册ECharts的渲染器、图表类型和组件。
   - 导入了`CanvasRenderer`（用于渲染图表到画布上）、`PieChart`（饼图类型）、以及几个ECharts组件如`TitleComponent`、`TooltipComponent`和`LegendComponent`。
   - 导入了`vue-echarts`库中的`VChart`组件和`THEME_KEY`，用于设置图表的主题。
   - 使用`use`函数注册了导入的渲染器、图表类型和组件。
   - 使用`provide`函数设置了图表的主题为“dark”。
   - 定义了一个响应式数据`option`，它包含了图表的详细配置，如标题、提示框、图例和系列数据。
3. **样式部分** (`<style scoped>`):
   - 为`.chart`类设置了样式，将图表的高度设置为视口高度（`100vh`），以确保图表能填满其容器。
   整体来说，这段代码创建了一个Vue组件，该组件使用ECharts库通过`vue-echarts`集成，来显示一个饼图，并设置了图表的各种配置和样式。



### use函数

在ECharts和Vue的上下文中，`use()`函数是一个核心API，用于注册ECharts的各种组件、渲染器、图表类型等。在提供的代码片段中，`use()`函数的使用如下：
```javascript
use([
  CanvasRenderer,
  PieChart,
  TitleComponent,
  TooltipComponent,
  LegendComponent,
]);
```
这段代码的作用是注册ECharts的几个关键组件，具体如下：
1. **`CanvasRenderer`**: 这是ECharts的一个渲染器，用于将图表渲染到HTML5 canvas上。它是ECharts支持多种渲染器中的一个，常用于在浏览器中高效地渲染图表。
2. **`PieChart`**: 表示饼图类型。在ECharts中，饼图是一种常见的图表类型，用于展示数据的相对比例。
3. **`TitleComponent`**: 这是ECharts的一个组件，用于在图表中添加标题。标题通常用于说明图表的主题或内容。
4. **`TooltipComponent`**: 提示框组件，当用户将鼠标悬停在图表的某个部分时，会显示相关的数据信息。这对于数据可视化来说是一个非常有用的特性，因为它可以提供更多关于数据的详细信息。
5. **`LegendComponent`**: 图例组件，用于表示图表中不同数据系列的颜色和名称。通过图例，用户可以轻松地识别和理解图表中的每个数据系列。
将这些组件传递给`use()`函数，意味着它们被注册并可以在当前的ECharts实例中使用。这是ECharts模块化和可扩展性的一个关键特性，允许开发者根据需要选择和配置图表的各个部分。



### radius属性

在ECharts饼图配置中，`radius`属性用于设置饼图的半径。当`radius`是一个数组时，它表示饼图由内外两个半径组成，形成环形饼图。在你提供的配置中：
```javascript
radius: ['60%', '70%'],
```
这行代码设置了饼图的内半径和外半径。具体来说：
- **外半径** (`'70%'`): 表示饼图的外边缘距离图表容器边缘的距离是容器宽度和高度中较小者的70%。这是饼图的最大半径。
- **内半径** (`'60%'`): 表示饼图的内边缘（**即饼图中心的空白部分**）距离图表容器中心的距离是容器宽度和高度中较小者的60%。这是饼图的最小半径。
这种配置使得饼图呈现出环形的形状，中心有一个空白区域。这种环形饼图常用于强调内外部分之间的比较，比如不同类别的数据对比。
例如，如果你有一个关于不同来源访问量的数据集，你可以使用环形饼图来展示直接访问和通过广告网络访问的比例。外环可能表示直接访问，而内环可能表示通过广告网络的访问。通过这种视觉上的区分，可以更清楚地展示不同数据系列之间的关系。







### 百分比

```
      formatter: function (name) {
         let index = 0;
         let value = 0;
         let rate = 0;
         for (let i = 0; i < barChartList.length; i++) {
            if (barChartList[i].name == name) {
               value = barChartList[i].value ? barChartList[i].value : 0;
               rate = ((value / sum) * 100).toFixed(0);
               index = i;
            }
         }
         return `{a|${name}}{${index}|${rate + '%'}}`
      },
```





### 计算百分比算法

1. 计算总和：72 + 11 + 22
2. 分别计算每个数值的百分比：
    * 72的百分比 = (72 / 总和) * 100
    * 11的百分比 = (11 / 总和) * 100
    * 22的百分比 = (22 / 总和) * 100



根据单一设计原则，函数1：计算总和。函数2：计算百分比









## todo list 模块

![image-20240402091957817](%E4%B8%BB%E9%A1%B5.assets/image-20240402091957817-17120207986711.png)

类似的这种模块，都是能够点击进行跳转的。点击完成后，跳转到对应组件的路由地址，然后

渲染的就是对应的查询界面。

### 路由跳转

第一步要解决路由跳转的问题。他这里有一个现成的。



点击 待办 待阅 任务 提醒。先降低问题的复杂度。我就先跳转。







### 图标的动态渲染

我现在需要把他修改成 v-bind的形式，然后改变一下样式就可以了。但是我现在不会修改。

但是我觉得我可以学习一下，把他这个自定义组件修改成我需要的样子。我可以不动他的配置，在他的基础之上二次封装这种方式也是不错的。





#### 增量式优化

假设数据量变大就是一个很好的被迫优化方式。因为有的方式数据量一大，那么代码的可维护性与性能就会暴露出来。







